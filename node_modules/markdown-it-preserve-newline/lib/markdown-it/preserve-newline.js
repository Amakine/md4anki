"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = kramdownAttrs;
function parseAttrs(state) {
  state.tokens.forEach(function (token) {
    if (token.children && token.children.map(function (child) {
      return child.type;
    }).indexOf("image") > -1) {
      token.children.forEach(function (child, i) {
        if (child.type == "image") {
          if (token.children[i + 1] && token.children[i + 1].type == "softbreak") {
            child.attrs.push(["markdown-newline", "true"]);
          }
        }
      });
    }
  });
}

// --

function kramdownAttrs(markdown) {
  markdown.core.ruler.before("replacements", "kramdown_attrs", parseAttrs);
}
module.exports = exports["default"];